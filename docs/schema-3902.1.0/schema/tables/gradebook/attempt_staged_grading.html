<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Blackboard database schema documentation</title>
  <link rel="stylesheet" type="text/css" href="../../styles.css" />

  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script type="text/javascript" src="../../typealong.js"></script>

  <script type="text/javascript">
var currentElement = null;

function setClass(element, value)
{
  if ( element )
  {
    element.className = value;
  }
}

function selectElement(element)
{
  setClass(currentElement, "");
  currentElement = element;
  setClass(currentElement, "current");
}

function selectSchema(element, overview)
{
  selectElement(element);
  top.contentFrame.location = overview;
}
  </script>
</head>
  <body>


<form name="search_form" id="searchForm">
  <input type="hidden" id="topLevel" value="../.."/>
  <input type="text" id="searchBox" name="page" title="Search"/>
  <img src="../../images/spinner.gif" alt="Loading..." class="spinner" style="display: none"/>
</form>

<script type="text/javascript">
  // Hide search form if there is no internet connection/access to jquery libraries
  if (typeof window.$ !== 'function')
  {
    window.noInternet = true;
    document.getElementById('searchForm').style.display = 'none';
  }
</script>

<div class="navigation">
  <a href="../../index.html" target="_parent">Home</a>
  &gt;
  <a href="../../overview-schema-gradebook.html">gradebook</a>
</div>

<h1>attempt_staged_grading
  <p>Stores provisional grading attempt information for anonymous and delegated grading for attempt rows.</p>
</h1>


<h3><span>Primary key constraint</span></h3>
<div>
    <p class="primaryName">attempt_staged_grading_pk</p>
  <p>This is the primary key on column pk1 of this table.</p>
  <ul>
<li> <a href="#column-pk1">pk1</a>
</li>
  </ul>
</div>

  <h3><span>Foreign key constraints</span></h3>
  <div>
    <ol>
<li>
    attempt_staged_grading_fk1
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the users table. </p>
  <ul>
<li> <a href="#column-grader_user_pk1">grader_user_pk1</a>
</li>
  </ul>
</li>
<li>
    attempt_staged_grading_fk2
    <span>(On Delete Cascade)</span>
  <p>This is a foreign key referencing the primary key of the attempt table. </p>
  <ul>
<li> <a href="#column-attempt_pk1">attempt_pk1</a>
</li>
  </ul>
</li>
<li>
    attempt_staged_grading_fk3
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the users table.</p>
  <ul>
<li> <a href="#column-ai_user_instr_comments">ai_user_instr_comments</a>
</li>
  </ul>
</li>
    </ol>
  </div>


  <h3><span>Indexes</span></h3>
  <div>
    <ol>
<li> attempt_staged_grading_if1
  <ul>
<li> <a href="#column-grader_user_pk1">grader_user_pk1</a>
</li>
  </ul>
</li>
<li> attempt_staged_grading_if2
  <ul>
<li> <a href="#column-ai_user_instr_comments">ai_user_instr_comments</a>
</li>
  </ul>
</li>
<li> attempt_staged_grading_ak1
  <p>Note that strictly speaking we would like this to be a unique index excluding nulls - i.e. if grader_user_pk1 is null then ignore it - but I don't see support for that
      kind of index in our schema.xml processing</p>
  <ul>
<li> <a href="#column-attempt_pk1">attempt_pk1</a>
</li>
<li> <a href="#column-grader_user_pk1">grader_user_pk1</a>
</li>
  </ul>
</li>
    </ol>
  </div>


<table title="Columns">
<thead>
<tr>
  <th>Column name</th>
  <th>Data type</th>
  <th>Default value</th>
  <th>Value constraint</th>
  <th>Default constraint</th>
  <th>Identity?</th>
  <th>Nullable?</th>
  <th>Description</th>
</tr>
</thead>
  <tbody>
<tr>
  <td><a name="column-pk1">pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>true</td>
  <td>false</td>
  <td>
  <p>This is the surrogate primary key for the table.</p>
  </td>
</tr>
<tr>
  <td><a name="column-grader_user_pk1">grader_user_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Only applicable if pending_anonymous_ind='N' in which case: This is a foreign key to the users.pk1 for the user who set this staged grade (null if pending_anonymous_ind='Y').  Note: Linking to the USERS table, not course_users table so this ownership can live beyond a grader's membership in the course.</p>
  </td>
</tr>
<tr>
  <td><a name="column-attempt_pk1">attempt_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>This is a foreign key to the attempt.pk1 - the attempt for which this row is a staged grade.</p>
  </td>
</tr>
<tr>
  <td><a name="column-score">score</a></td>
  <td>numeric(15,5)</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Score specific to this delegated grader.  See attempt.score for details.</p>
  </td>
</tr>
<tr>
  <td><a name="column-grade">grade</a></td>
  <td>nvarchar(32)</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Grade specific to this delegated grader.  See attempt.grade for details.</p>
  </td>
</tr>
<tr>
  <td><a name="column-instructor_comments">instructor_comments</a></td>
  <td>ntext</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Formatted text for instructor feedback.  Formatted text type is specified by feedback_format_type field.</p>
  </td>
</tr>
<tr>
  <td><a name="column-feedback_format_type">feedback_format_type</a></td>
  <td>char(1)</td>
    <td>'H'</td>
    <td class="valueConstraint">attmpt_stgd_fft_ck
      <ul>
          <li> <span>P</span>
          </li>
          <li> <span>H</span>
          </li>
          <li> <span>S</span>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Formatted text type for instructor feedback: H=HTML, P=PLAIN TEXT, S=SMART TEXT.</p>
  </td>
</tr>
<tr>
  <td><a name="column-ai_state_instr_comments">ai_state_instr_comments</a></td>
  <td>char(1)</td>
    <td></td>
    <td class="valueConstraint">attempt_staged_ai_state_instr_comments_ck
      <ul>
          <li> <span>N</span>
  <p>Not generated by AI</p>
          </li>
          <li> <span>Y</span>
  <p>Generated by AI, not yet accepted by a human</p>
          </li>
          <li> <span>O</span>
  <p>Originally generated by AI but accepted by a human</p>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Indicates whether the feedback is AI-generated</p>
  </td>
</tr>
<tr>
  <td><a name="column-ai_user_instr_comments">ai_user_instr_comments</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>The user who accepted the AI-generated feedback</p>
  </td>
</tr>
<tr>
  <td><a name="column-instructor_notes">instructor_notes</a></td>
  <td>ntext</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Formatted text for instructor notes.  Formatted text type specified by notes_format_type field.</p>
  </td>
</tr>
<tr>
  <td><a name="column-notes_format_type">notes_format_type</a></td>
  <td>char(1)</td>
    <td>'H'</td>
    <td class="valueConstraint">attmpt_stgd_nft_ck
      <ul>
          <li> <span>P</span>
          </li>
          <li> <span>H</span>
          </li>
          <li> <span>S</span>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Formatted text for instructor notes.  Formatted text type: H=HTML, P=PLAIN TEXT, S=SMART TEXT.</p>
  </td>
</tr>
<tr>
  <td><a name="column-status">status</a></td>
  <td>int</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>The status of this delegated grader's attempt.  See: attempt.status for details</p>
  </td>
</tr>
<tr>
  <td><a name="column-first_graded_date">first_graded_date</a></td>
  <td>datetime</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Date and time when the attempt was graded first time by this delegated grader</p>
  </td>
</tr>
<tr>
  <td><a name="column-last_graded_date">last_graded_date</a></td>
  <td>datetime</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Date and time when the attempt was graded last time by this delegated grader</p>
  </td>
</tr>
<tr>
  <td><a name="column-date_added">date_added</a></td>
  <td>datetime</td>
    <td>NOW</td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>This is the date and time at which this row was created.</p>
  </td>
</tr>
<tr>
  <td><a name="column-date_modified">date_modified</a></td>
  <td>datetime</td>
    <td>NOW</td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>This is the date and/or time at which this row was modified.</p>
  </td>
</tr>
<tr>
  <td><a name="column-pending_anonymous_ind">pending_anonymous_ind</a></td>
  <td>char(1)</td>
    <td>'N'</td>
    <td class="valueConstraint">attmpt_stgd_pndn_ck
      <ul>
          <li> <span>Y</span>
          </li>
          <li> <span>N</span>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>This indicates if this row represents an anonymous grade for this attempt.  For columns that also have 'delegated grading' enabled, the row with this flag set will be created during reconciliation of the grade with this flag separating it from the standard delegated-grading rows. Y=Yes, this is the grade that will be moved into the attempt table when the column is de-anonymized; N/null=No, this is just a normal delegated-grading row</p>
  </td>
</tr>
<tr>
  <td><a name="column-graded_anonymously_ind">graded_anonymously_ind</a></td>
  <td>char(1)</td>
    <td>'N'</td>
    <td class="valueConstraint">attmpt_stgd_grde_nn_ck
      <ul>
          <li> <span>Y</span>
          </li>
          <li> <span>N</span>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>This indicates if this attempt was last graded during anonymous grading. Y=Yes, it was anonymous; N/null=No, not anonymous</p>
  </td>
</tr>
<tr>
  <td><a name="column-reconciliation_mode">reconciliation_mode</a></td>
  <td>char(1)</td>
    <td></td>
    <td class="valueConstraint">attmpt_stgd_rcn_md_ck
      <ul>
          <li> <span>A</span>
          </li>
          <li> <span>H</span>
          </li>
          <li> <span>L</span>
          </li>
          <li> <span>C</span>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Only applicable if pending_anonymous_ind='Y' in which case: If this attempt was graded via delegated grading then this field will record the reconciliation mode used to set the grade. A=Average,H=Highest,L=Lowest,C=Custom</p>
  </td>
</tr>
<tr>
  <td><a name="column-override_ind">override_ind</a></td>
  <td>char(1)</td>
    <td>'N'</td>
    <td class="valueConstraint">attmpt_stgd_ovrrid_ck
      <ul>
          <li> <span>N</span>
  <p>No override</p>
          </li>
          <li> <span>Y</span>
  <p>Grade and feedback are both overridden</p>
          </li>
          <li> <span>F</span>
  <p>Only feedback is overridden</p>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>This indicates whether the attempt was overidden. See attempt.overrid_ind</p>
  </td>
</tr>
<tr>
  <td><a name="column-show_fb_to_stu_ind">show_fb_to_stu_ind</a></td>
  <td>char(1)</td>
    <td>'Y'</td>
    <td class="valueConstraint">attmpt_stgd_shw_fb_stu_ck
      <ul>
          <li> <span>N</span>
          </li>
          <li> <span>Y</span>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>Only applicable if associated attempt/group_attempt row has 'S'</p>
  </td>
</tr>
  </tbody>
</table>

  <div class="copyright">
    Version 3902.1.0, copyright &copy; 2010-2012 Blackboard Inc. All Rights Reserved
  </div>
</body>
</html>
