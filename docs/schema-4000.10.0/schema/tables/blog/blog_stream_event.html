<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Blackboard database schema documentation</title>
  <link rel="stylesheet" type="text/css" href="../../styles.css" />

  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script type="text/javascript" src="../../typealong.js"></script>

  <script type="text/javascript">
var currentElement = null;

function setClass(element, value)
{
  if ( element )
  {
    element.className = value;
  }
}

function selectElement(element)
{
  setClass(currentElement, "");
  currentElement = element;
  setClass(currentElement, "current");
}

function selectSchema(element, overview)
{
  selectElement(element);
  top.contentFrame.location = overview;
}
  </script>
</head>
  <body>


<form name="search_form" id="searchForm">
  <input type="hidden" id="topLevel" value="../.."/>
  <input type="text" id="searchBox" name="page" title="Search"/>
  <img src="../../images/spinner.gif" alt="Loading..." class="spinner" style="display: none"/>
</form>

<script type="text/javascript">
  // Hide search form if there is no internet connection/access to jquery libraries
  if (typeof window.$ !== 'function')
  {
    window.noInternet = true;
    document.getElementById('searchForm').style.display = 'none';
  }
</script>

<div class="navigation">
  <a href="../../index.html" target="_parent">Home</a>
  &gt;
  <a href="../../overview-schema-blog.html">blog</a>
</div>

<h1>blog_stream_event
  <p>Stores blog or journal related stream events to populate the My Blackboard stream viewer</p>
</h1>


<h3><span>Primary key constraint</span></h3>
<div>
    <p class="primaryName">blog_stream_event_pk</p>
  <p>This is the name of primary key constraint</p>
  <ul>
<li> <a href="#column-pk1">pk1</a>
</li>
  </ul>
</div>

  <h3><span>Foreign key constraints</span></h3>
  <div>
    <ol>
<li>
    blog_stream_event_fk1
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the blog table, referential action cascade on delete (setnull).</p>
  <ul>
<li> <a href="#column-blog_pk1">blog_pk1</a>
</li>
  </ul>
</li>
<li>
    blog_stream_event_fk2
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the blog_comment table, referential action cascade on delete (setnull).</p>
  <ul>
<li> <a href="#column-blog_comment_pk1">blog_comment_pk1</a>
</li>
  </ul>
</li>
<li>
    blog_stream_event_fk3
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the blog_entry table, referential action cascade on delete (setnull).</p>
  <ul>
<li> <a href="#column-blog_entry_pk1">blog_entry_pk1</a>
</li>
  </ul>
</li>
<li>
    blog_stream_event_fk4
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the users table, referential action cascade on delete (cascade).</p>
  <ul>
<li> <a href="#column-actor_pk1">actor_pk1</a>
</li>
  </ul>
</li>
<li>
    blog_stream_event_fk5
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the users table, referential action cascade on delete (setnull).</p>
  <ul>
<li> <a href="#column-actee_pk1">actee_pk1</a>
</li>
  </ul>
</li>
<li>
    blog_stream_event_fk6
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the course_main table, referential action cascade on delete (setnull).</p>
  <ul>
<li> <a href="#column-crsmain_pk1">crsmain_pk1</a>
</li>
  </ul>
</li>
<li>
    blog_stream_event_fk7
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the groups table, referential action cascade on delete (setnull).</p>
  <ul>
<li> <a href="#column-group_pk1">group_pk1</a>
</li>
  </ul>
</li>
<li>
    blog_stream_event_fk8
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the course_contents table, referential action cascade on delete (setnull).</p>
  <ul>
<li> <a href="#column-course_contents_pk1">course_contents_pk1</a>
</li>
  </ul>
</li>
<li>
    blog_stream_event_fk9
    <span>(On Delete SetNull)</span>
  <p>This is a foreign key referencing the primary key of the course_users table, referential action cascade on delete (setnull).</p>
  <ul>
<li> <a href="#column-creator_course_users_pk1">creator_course_users_pk1</a>
</li>
  </ul>
</li>
    </ol>
  </div>


  <h3><span>Indexes</span></h3>
  <div>
    <ol>
<li> blog_stream_event_if1
  <ul>
<li> <a href="#column-blog_pk1">blog_pk1</a>
</li>
  </ul>
</li>
<li> blog_stream_event_if2
  <ul>
<li> <a href="#column-blog_comment_pk1">blog_comment_pk1</a>
</li>
  </ul>
</li>
<li> blog_stream_event_if3
  <ul>
<li> <a href="#column-blog_entry_pk1">blog_entry_pk1</a>
</li>
  </ul>
</li>
<li> blog_stream_event_if4
  <ul>
<li> <a href="#column-actor_pk1">actor_pk1</a>
</li>
  </ul>
</li>
<li> blog_stream_event_if5
  <ul>
<li> <a href="#column-actee_pk1">actee_pk1</a>
</li>
  </ul>
</li>
<li> blog_stream_event_if7
  <ul>
<li> <a href="#column-group_pk1">group_pk1</a>
</li>
  </ul>
</li>
<li> blog_stream_event_if8
  <ul>
<li> <a href="#column-course_contents_pk1">course_contents_pk1</a>
</li>
  </ul>
</li>
<li> blog_stream_event_if9
  <ul>
<li> <a href="#column-creator_course_users_pk1">creator_course_users_pk1</a>
</li>
  </ul>
</li>
<li> blog_stream_event_ie1
  <ul>
<li> <a href="#column-crsmain_pk1">crsmain_pk1</a>
</li>
<li> <a href="#column-blog_pk1">blog_pk1</a>
</li>
<li> <a href="#column-blog_entry_pk1">blog_entry_pk1</a>
</li>
<li> <a href="#column-event_modified_date">event_modified_date</a>
</li>
<li> <a href="#column-group_pk1">group_pk1</a>
</li>
  </ul>
</li>
    </ol>
  </div>


<table title="Columns">
<thead>
<tr>
  <th>Column name</th>
  <th>Data type</th>
  <th>Default value</th>
  <th>Value constraint</th>
  <th>Default constraint</th>
  <th>Identity?</th>
  <th>Nullable?</th>
  <th>Description</th>
</tr>
</thead>
  <tbody>
<tr>
  <td><a name="column-pk1">pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>true</td>
  <td>false</td>
  <td>
  <p>This is the surrogate primary key for the table.</p>
  </td>
</tr>
<tr>
  <td><a name="column-actor_pk1">actor_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>FK to users.pk1 for the person doing the action - i.e. a comment on a blog would set the commenter in actor_pk1.  This column will be set to NULL if the user was deleted in which case this row should be ignored.</p>
  </td>
</tr>
<tr>
  <td><a name="column-actee_pk1">actee_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>FK to users.pk1 for the person the action was done against - i.e. a comment on a blog entry would set the post-author in actee_pk1.  This will be NULL if the stream event is not in response to a particular user or if the user was deleted.</p>
  </td>
</tr>
<tr>
  <td><a name="column-crsmain_pk1">crsmain_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>FK to course_main for the course in which the event occurs.  Will be set to NULL if the course was deleted.</p>
  </td>
</tr>
<tr>
  <td><a name="column-group_pk1">group_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>FK to groups for the group in which the event occurs.  This will be NULL for non group blogs/journals or if the group was deleted.</p>
  </td>
</tr>
<tr>
  <td><a name="column-event_date">event_date</a></td>
  <td>datetime</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>Date and time the event occurred.</p>
  </td>
</tr>
<tr>
  <td><a name="column-event_modified_date">event_modified_date</a></td>
  <td>datetime</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>Date and time the event was modified (only set in response to a cascade setnull trigger - see FKs below).</p>
  </td>
</tr>
<tr>
  <td><a name="column-course_contents_pk1">course_contents_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>FK to course_contents.pk1 if the event pertains to a course contents item.  This will be NULL if the event does not have a course_contents.pk1 or if the course content was deleted.</p>
  </td>
</tr>
<tr>
  <td><a name="column-journal_ind">journal_ind</a></td>
  <td>char(1)</td>
    <td>'N'</td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>This is a boolean flag (Y/N) that indicates if this is a blog or a journal (Y== Journal))</p>
  </td>
</tr>
<tr>
  <td><a name="column-event_type">event_type</a></td>
  <td>varchar(2)</td>
    <td></td>
    <td class="valueConstraint">blog_stream_event_type_ck
      <ul>
          <li> <span>EP</span>
  <p>Blog or Journal entry posted event</p>
          </li>
          <li> <span>EE</span>
  <p>Blog entry edited event</p>
          </li>
          <li> <span>CP</span>
  <p>Blog or Journal comment posted event</p>
          </li>
      </ul>
    </td>
    <td></td>
  <td>false</td>
  <td>false</td>
  <td>
  <p>The type of event such as:  entry, edit or comment post.</p>
  </td>
</tr>
<tr>
  <td><a name="column-event_text">event_text</a></td>
  <td>nvarchar(333)</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Text specific to this event - not the stream text directly, but the dynamic text to substitute into an event-appropriate message when rendering the stream.</p>
  </td>
</tr>
<tr>
  <td><a name="column-event_title">event_title</a></td>
  <td>nvarchar(333)</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>Title for the stream event</p>
  </td>
</tr>
<tr>
  <td><a name="column-blog_pk1">blog_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>This is a foreign key referencing the primary key of the blogs table.  One and only one of blog_pk1, blog_comment_pk1 or blog_entry_pk1 should be specified.  If all 3 are NULL the row should be ignored</p>
  </td>
</tr>
<tr>
  <td><a name="column-blog_comment_pk1">blog_comment_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>This is a foreign key referencing the primary key of the blog_comment table.  One and only one of blog_pk1, blog_comment_pk1 or blog_entry_pk1 should be specified.  Is set to NULL if the associated blog comment is deleted.  If all 3 are NULL the row should be ignored</p>
  </td>
</tr>
<tr>
  <td><a name="column-blog_entry_pk1">blog_entry_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>This is a foreign key referencing the primary key of the blog_entry table.  One and only one of blog_pk1, blog_comment_pk1 or blog_entry_pk1 should be specified.  Is set to NULL if the associated entry is deleted.  If all 3 are NULL the row should be ignored</p>
  </td>
</tr>
<tr>
  <td><a name="column-creator_course_users_pk1">creator_course_users_pk1</a></td>
  <td>id</td>
    <td></td>
    <td></td>
    <td></td>
  <td>false</td>
  <td>true</td>
  <td>
  <p>FK to course_users.pk1 for the course membership of the user who is the original author of the blog entry.  This column will be set to NULL if the membership was deleted or the blog entry is set as anonymous.</p>
  </td>
</tr>
  </tbody>
</table>

  <div class="copyright">
    Version 4000.10.0, copyright &copy; 2010-2012 Blackboard Inc. All Rights Reserved
  </div>
</body>
</html>
